!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/material"),require("@angular/common"),require("@angular/forms"),require("@angular/flex-layout")):"function"==typeof define&&define.amd?define("material-tabs",["exports","@angular/core","@angular/material","@angular/common","@angular/forms","@angular/flex-layout"],e):e(t["material-tabs"]={},t.ng.core,t.ng.material,t.ng.common,t.ng.forms,t.ng["flex-layout"])}(this,function(t,e,n,i,o,a){"use strict";var s=function(){function t(){this.selectedOptions=[]}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[]},t.ngInjectableDef=e.defineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}(),l=function(){function t(t){this.viewContainer=t}return t.decorators=[{type:e.Directive,args:[{selector:"[verticalDynamicTabAnchor]"}]}],t.ctorParameters=function(){return[{type:e.ViewContainerRef}]},t}(),r=function(){function t(t){this.tabsService=t,this.active=!1,this.isCloseable=!1}return t.decorators=[{type:e.Component,args:[{selector:"vertical-material-tab",template:'<div *ngIf="active" class="pane">\n  <h3 class="tab-heading" *ngIf="tabsService.multi && tabsService.selectedOptions.length > 1">\n    {{tabTitle}}\n  </h3>\n  <ng-content></ng-content>\n  <ng-container *ngIf="template"\n                [ngTemplateOutlet]="template"\n                [ngTemplateOutletContext]="{person: dataContext}">\n  </ng-container>\n</div>\n',styles:["\n    .pane {\n      padding: 1em;\n    }\n  "]}]}],t.ctorParameters=function(){return[{type:s}]},t.propDecorators={tabTitle:[{type:e.Input}],active:[{type:e.Input}],template:[{type:e.Input}],dataContext:[{type:e.Input}],isCloseable:[{type:e.Input}]},t}(),c=function(){function t(t,e){this.componentFactoryResolver=t,this.tabService=e,this.multi=!0,this.selectFirstTab=!0,this.showSelectAll=!1,this.allSelected=!0,this.dynamicTabs=[],this.tabService.multi=this.multi}return t.prototype.ngAfterContentInit=function(){this.selectFirstTab&&!this.tabs.filter(function(t){return t.active}).length?this.selectTab(this.tabs.first):this.checkSelectAll()},t.prototype.toggleTabActivations=function(){var t=this.tabs.toArray().concat(this.dynamicTabs);if(!(null==t||t.length<1)){var e=new Set(this.tabService.selectedOptions);t.forEach(function(t){return t.active=e.has(t.tabTitle)})}},t.prototype.setOptions=function(){var e=this;!this.multi&&this.tabService.selectedOptions.length&&this.lastSelectedOptions&&this.lastSelectedOptions.length&&(this.tabService.selectedOptions=this.tabService.selectedOptions.filter(function(t){return t!==e.lastSelectedOptions[e.lastSelectedOptions.length-1]}),this.lastSelectedOptions=this.tabService.selectedOptions)},t.prototype.onNgModelChange=function(){this.setOptions(),this.toggleTabActivations(),this.checkSelectAll()},t.prototype.selectTab=function(t){if(this.multi?this.tabService.selectedOptions.push(t.tabTitle):this.tabService.selectedOptions=[t.tabTitle],t.active=!0,this.list.options){var e=this.list.options.map(function(t){return t.value}),n=new Set(this.tabService.selectedOptions);this.list.options.forEach(function(t){t.selected=n.has(t.value)});var i=new Set(e);this.tabService.selectedOptions.forEach(function(t){if(!i.has(t))throw TypeError("'"+t+"' not found in mat-selection-list")}),this.checkSelectAll()}},t.prototype.checkSelectAll=function(){this.list&&this.list.options&&(this.allSelected=!(this.list.options.length<1)&&this.list.options.reduce(function(t,e){return t?e.selected:t},!0))},t.prototype.openTab=function(t,e,n,i){void 0===i&&(i=!1);var o=this.componentFactoryResolver.resolveComponentFactory(r),a=this.dynamicTabPlaceholder.viewContainer.createComponent(o).instance;a.tabTitle=t,a.template=e,a.dataContext=n,a.isCloseable=i,a.active=!0,this.dynamicTabs.push(a),this.selectTab(this.dynamicTabs[this.dynamicTabs.length-1])},t.prototype.closeTab=function(t){for(var e=0;e<this.dynamicTabs.length;e++)if(this.dynamicTabs[e]===t){this.dynamicTabs.splice(e,1),this.dynamicTabPlaceholder.viewContainer.remove(e),this.tabService.selectedOptions=[t.tabTitle],this.selectTab(this.tabs.first);break}this.checkSelectAll()},t.prototype.closeActiveTab=function(){this.multi&&console.warn("Closing the first active tab");var t=this.dynamicTabs.filter(function(t){return t.active});0<t.length&&this.closeTab(t[0]),this.checkSelectAll()},t.prototype.toggleSelect=function(){this.allSelected?this.list.deselectAll():this.list.selectAll(),this.allSelected=!this.allSelected,this.checkSelectAll()},t.decorators=[{type:e.Component,args:[{selector:"vertical-material-tabs",template:'<div fxLayout="row" fxLayoutGap="1px" fxLayout.xs="column">\n  <div fxFlex="33%">\n    <mat-selection-list #list [(ngModel)]="tabService.selectedOptions"\n                        (ngModelChange)="onNgModelChange()"\n                        (selectionChange)="onNgModelChange()">\n      <mat-list-option *ngFor="let tab of [].concat(tabs.toArray(), dynamicTabs)" [value]="tab.tabTitle">\n        {{tab.tabTitle}}\n      </mat-list-option>\n    </mat-selection-list>\n    <mat-divider></mat-divider>\n    <button mat-button color="primary" id="select"\n            (click)="toggleSelect()" *ngIf="showSelectAll">\n      {{allSelected ? \'Reset selection\' : \'Select all\'}}\n    </button>\n  </div>\n\n  <div fxFlex="66%" *ngIf="tabService.selectedOptions.length">\n    <ng-content></ng-content>\n    <ng-template verticalDynamicTabAnchor #container></ng-template>\n  </div>\n</div>\n',styles:[]}]}],t.ctorParameters=function(){return[{type:e.ComponentFactoryResolver},{type:s}]},t.propDecorators={tabs:[{type:e.ContentChildren,args:[r]}],dynamicTabPlaceholder:[{type:e.ViewChild,args:[l]}],list:[{type:e.ViewChild,args:[n.MatSelectionList]}],multi:[{type:e.Input}],selectFirstTab:[{type:e.Input}],showSelectAll:[{type:e.Input}]},t}(),p=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[s]}},t.decorators=[{type:e.NgModule,args:[{imports:[i.CommonModule,o.FormsModule,a.FlexLayoutModule,n.MatListModule,n.MatDividerModule,n.MatButtonModule],entryComponents:[r],declarations:[r,c,l],exports:[c,r]}]}],t}();t.MaterialTabsService=s,t.MaterialTabsComponent=c,t.MaterialTabsModule=p,t.ɵb=l,t.ɵa=r,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=material-tabs.umd.min.js.map